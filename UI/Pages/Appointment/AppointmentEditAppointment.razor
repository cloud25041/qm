
@page "/appointment/appointmenteditappointment/{apptid}"
@inject IModalService modal
@inject NavigationManager NavManager

@if (_loading)
{
    <h3>Loading Up Appointment Slots...</h3>
}
else
{
    <div class="col py-3 px-lg-5 border bg-light">
        New Appointment Date: <SfDatePicker TValue="DateTime?" Placeholder="Select a Date" Min="@MinDate" Max="@MaxDate"></SfDatePicker>
    </div>

    <div class="col py-3 px-lg-5 border bg-light">
        New Appointment Time: <SfTimePicker TValue="DateTime?" Placeholder="Select a Time" Min="@MinTime" Max="@MaxTime" Format="HH:mm" Step="30"></SfTimePicker>
    </div>

    <div class="col py-3">
        <button class="btn btn-primary" @onclick="NavigateEdit">Book</button>
        <button class="btn btn-secondary" @onclick="NavigateCancel">Cancel</button>
    </div>
    <button class="btn btn-secondary" @onclick="@(() => modal.Show<AppointmentEditFail>("Error!"))">Display Fail Modal</button>
}

@code
{



    [Parameter]
    public string apptid { get; set; }

    private bool _loading;

    // set minimum & maximum time
    public DateTime MaxTime { get; set; } = new DateTime(2021, 02, 20, 18, 00, 00);
    public DateTime MinTime { get; set; } = new DateTime(2021, 02, 20, 08, 00, 00);
    // set min & max dates
    public DateTime MinDate { get; set; } = new DateTime(DateTime.Now.Year, DateTime.Now.Month, DateTime.Now.Day);
    public DateTime MaxDate { get; set; } = new DateTime(DateTime.Now.Year, DateTime.Now.Month + 1, DateTime.Now.Day);


    // set location list
    public class LocationData
    {
        public string Name { get; set; }
        public string Id { get; set; }
    }

    private void NavigateEdit()
    {
        NavManager.NavigateTo("/appointment/appointmenteditappointmentsuccess");
    }

    private void NavigateCancel()
    {
        NavManager.NavigateTo("/appointment/appointmentmainselection/{accountid}");
    }


}
